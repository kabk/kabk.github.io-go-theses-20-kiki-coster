(window.webpackJsonp=window.webpackJsonp||[]).push([["constructor/bundle~embed/bundle~homepage/bundle~screenshoter/bundle~viewer/bundle"],{"3eHG":function(e,t,n){"use strict";var i=n("xi34"),o=n("rFsW"),a=n("OTSC"),r=n("Fi5S"),s=[],c=[],u=[],d=[],l=null,p=null;window.googleMapsAPIAuthError=!1,window.gm_authFailure=function(){r.a.trigger("gmaps:auth_error",!0),window.googleMapsAPIAuthError=!0};var m="//maps.googleapis.com/maps/api/js",f={initGMapsAPI:function(e,t){if(window.googleMapsAPIAuthError&&e&&f.destroyGMapsAPI(),window.google&&window.google.maps)return t();if(!window.processGoogleMapsAPICallbacks){window.processGoogleMapsAPICallbacks=function(){o.a.each(s,(function(e){o.a.isFunction(e)&&e()}))};var n=document.createElement("script");n.type="text/javascript";var r={libraries:"places",callback:"processGoogleMapsAPICallbacks"};e?r.key=e:window.googleMapsAPIAuthError=!0;var c=a.a.IS_FILE_PROTOCOL?"":i.a.param(r);n.src=a.b.selectProtocol(m+"?"+c),document.body.appendChild(n)}s.push(t)},destroyGMapsAPI:function(){for(var e=document.querySelectorAll("script[src*='"+m+"']"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]);window.google&&window.google.maps&&delete window.google.maps,delete window.processGoogleMapsAPICallbacks,s=[],window.googleMapsAPIAuthError=!1},initFacebookAPI:function(e){var t=a.a.FACEBOOK_APP_ID||"";if("function"==typeof e){if(f.isFacebookInited)return e();var n,r,s,u,d;c.push(e),Object(i.a)("#fb-root").length||Object(i.a)("body").prepend(Object(i.a)('<div id="fb-root"></div>')),window.fbAsyncInit=function(){FB.init({appId:t,xfbml:!1,version:"v"+a.a.FACEBOOK_API_VERSION}),o.a.each(c,(function(e){o.a.isFunction(e)&&e()})),f.isFacebookInited=!0},n=document,r="script",s="facebook-jssdk",d=n.getElementsByTagName(r)[0],n.getElementById(s)||((u=n.createElement(r)).id=s,u.src=a.b.selectProtocol("//connect.facebook.net/en_US/sdk.js"),d.parentNode.insertBefore(u,d))}},initFacebookPixel:function(){return new Promise((function(e){return f.isFacebookPixelInited?e():(t=window,n=document,i="script",t.fbq||(o=t.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},t._fbq||(t._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(r=n.createElement(i)).async=!0,r.src="https://connect.facebook.net/en_US/fbevents.js",(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(r,s)),fbq("init",a.a.FACEBOOK_PIXEL_ID),f.isFacebookPixelInited=!0,e());var t,n,i,o,r,s}))},initTwitterAPI:function(e){f.isTwitterInited?o.a.isFunction(e)&&e():(o.a.isFunction(e)&&u.push(e),f.isTwitterLoading||(f.isTwitterLoading=!0,Object(i.a)('body > script[src^="//syndication.twimg.com/tweets.json"]').remove(),i.a.ajax({url:a.b.selectProtocol("//platform.twitter.com/widgets.js"),dataType:"script",cache:!1,success:function(){o.a.each(u,(function(e){o.a.isFunction(e)&&e()})),twttr.events.bind("click",a.b.getFocusBack),f.isTwitterInited=!0,f.isTwitterLoading=!1}})))},initTwitterTrackingAPI:function(e){return l||(l=new Promise((function(e){i.a.ajax({url:a.b.selectProtocol("//platform.twitter.com/oct.js"),dataType:"script",cache:!1,success:e})})))},initMailchimpAPI:function(e){f.isMailchimpInited?o.a.isFunction(e)&&e(f.mailchimp):(o.a.isFunction(e)&&d.push(e),f.isMailchimpLoading||(f.isMailchimpLoading=!0,i.a.ajax({url:a.b.selectProtocol("//s3.amazonaws.com/downloads.mailchimp.com/js/signup-forms/popup/embed.js"),dataType:"script",cache:!1,success:function(){window.require?window.require(["mojo/signup-forms/Loader"],(function(e){f.mailchimp=e,o.a.each(d,(function(e){o.a.isFunction(e)&&e(f.mailchimp)})),f.isMailchimpInited=!0})):d=[]},complete:function(){f.isMailchimpLoading=!1}})))},initPinterestTrackingAPI:function(e){return p||(p=new Promise((function(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var t=window.pintrk;t.queue=[],t.version="3.0";var n=document.createElement("script");n.async=!0,n.src="https://s.pinimg.com/ct/core.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}}(),window.pintrk("load","2614453656440"),window.pintrk("page"),e()})))}};t.a=f},Fi5S:function(e,t,n){"use strict";var i=n("q1z7"),o=n.n(i),a=n("rFsW"),r=window.RM&&window.RM.DEBUG?{on:function(e,t){console.log('RM.Events: subscribe to "'+e+'": ',t),o.a.Events.on.apply(this,arguments)},trigger:function(e,t){console.log('RM.Events: "'+e+'": ',t),o.a.Events.trigger.apply(this,arguments)}}:{};t.a=a.a.extend(r,o.a.Events)},"KRV/":function(e,t,n){"use strict";n("rFsW");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.RM=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(n,!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({models:{},collections:{},classes:{},blocks:{},controls:{},panels:{},widgets:{},views:{},data:{},common:{disableShortcuts:{}},templates:{},customAnalyticsHandlers:{track:[],event:[]}},window.RM||{});for(var a=0,r=["ms","moz","webkit","o"],s=0;s<r.length&&!window.requestAnimationFrame;++s)window.requestAnimationFrame=window[r[s]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r[s]+"CancelAnimationFrame"]||window[r[s]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-a)),o=window.setTimeout((function(){e(n+i)}),i);return a=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})},OTSC:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var i=n("xi34"),o=n("rFsW"),a=n("3eHG"),r=n("Kw5r"),s=n("QNiq"),c={isURL:function(e){return/^http(s?)\:\/\//i.test(e)}};o.a.keys(c).forEach((function(e){r.a.filter(e,c[e])}));var u=o.a.extend({UPLOAD_IMAGE_SIZE_LIMIT:6291456,MSG_UPLOAD_IMAGE_SIZE_ERROR:"File size should be less than 6 Mb.",MSG_UPLOAD_IMAGE_SUPPORTED_ERROR:"We support only JPG, GIF, PNG, SVG and BMP picture formats.",MSG_UPLOAD_ONLY_SINGLE_FILE:"We support only 1 file upload via drop on workspace",THUMB_SIZE:48,THUMB_QUALITY:70,UPLOAD_IMAGE_FORMATS:"jpeg|jpg|png|gif|bmp|svg\\+xml",EMBED_SCRIPT_INIT:window.ServerData.config.readymag_host+"/specials/assets/embed_init.js",EMBED_SCRIPT_MAIN:window.ServerData.config.readymag_host+"/specials/assets/embed_main.js",IS_LIVE:!(!window.ServerData||!window.ServerData.stripe_live),IS_FILE_PROTOCOL:"file:"==window.location.protocol,AVAILABLE_TEXT_TAGS:["p","h1","h2","h3","h4"],ecommerceCartBlockName:"ecommercecart",addToCartBlockName:"addtocart",environment:{constructor:"constructor",preview:"preview",viewer:"viewer"},systemFontsList:["arial","courier new","georgia","times new roman","trebuchet ms","verdana","tahoma"],allowedLambdaExt:["jpg","jpeg","png","bmp"],lqipWidth:40,lqipQuality:50,FacebookTrackingEvents:{RegisteredUser:"Mi_Usuario",ActiveSubscriber:"CLient",Join:"Joined"},TwitterTrackingEvents:{RegisteredUser:"o34uz",ActiveSubscriber:"o3286",Join:"o31y8"},PinterestTrackingEvents:{RegisteredUser:"user_defined_login",ActiveSubscriber:"user_defined_active",Join:"signup"}},window.ServerData.config),d={picSizes:[256,304,512,608,1024],isPageNativelyScaled:function(){return window.innerWidth!=document.documentElement.clientWidth},declination:function(e,t,n,i,o){var a=i%100;return a=a>=11&&a<=14?0:(a%=10)<5?a>2?2:a:0,o||(a=1==i?1:0),[e,t,n][a]},queryUrlGetParam:function(e,t){try{for(var n=t?t.split("?")[1]:location.search.substring(1),i=n?n.split("&"):[],o=0;o<i.length;o++){var a=i[o].split("=");if(a[0]==e)return!(a.length>1)||decodeURIComponent(a[1])}}catch(e){console.log(e)}},autoWindowScroll:function(e,t,n){this.autoWindowScrollClear();var o=0,a=Object(i.a)(window).height();e.pageY<10&&(o=-Math.abs(Math.floor(3*(10-e.pageY)))),e.pageY>a-10&&(o=Math.abs(Math.floor(3*(10-(a-e.pageY))))),0!=(o=Math.max(Math.min(20,o),-20))&&(t.scrollTop(t.scrollTop()+o),RM.common.autoWindowScrollTimeout=setTimeout((function(){n&&n()}),100))},autoWindowScrollClear:function(){clearTimeout(RM.common.autoWindowScrollTimeout)},isValidEmail:function(e,t){return t||(e=e.replace(/^\s+|\s+$/g,"")),/^([a-z0-9_\-]+[\.\+])*[a-z0-9_\-]+@([a-z0-9][a-z0-9\-]*\.)+[a-z]{2,}$/i.test(e)},isValidEmailLink:function(e){return d.isValidEmail(e.split("?")[0])},isValidPhoneNumber:function(e){return/^\s*(?:\+?(\d{1,3}))?([-. (]*(\d{3})[-. )]*)?((\d{3})[-. ]*(\d{2,4})(?:[-.x ]*(\d+))?)\s*$/g.test(e)},getRGBA:function(e,t){var n="";if(e){var i=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)];n=t>.99?"rgb("+i[0]+","+i[1]+","+i[2]+")":"rgba("+i[0]+","+i[1]+","+i[2]+", "+t+")"}return n},generateUUID:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))},escapeSpecial:function(e,t){return(e=(e+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1"))&&t&&(e="'"+e+"'"),e},scanForURIs:function(e,t,n){var i=[],o=0;return e=(e=(e=(e+=" ").replace(/\b([a-z0-9_\.-]+)@([\da-z\.-]+)\.(biz|com|edu|gov|net|org|us|ru|ua|uk|su|se|co|no|jp|it|in|il|gb|fr|fi|es|de|cz|ch|ca|by|at|au)/gim,(function(e){return i[++o]="<a "+(t?'class = "'+t+'"':"")+' href="mailto:'+e+'">'+e+"</a>","INNER_TMP_BLOCK_"+o+"_INNER_TMP_BLOCK"}))).replace(/\b(https?:\/\/)?([\da-z\.-]+)\.(biz|com|edu|gov|net|org|us|ru|ua|uk|su|se|co|no|jp|it|in|il|gb|fr|fi|es|de|cz|ch|ca|by|at|au)(\/[^\s\(\)\[\]\{\}\<\>]*)*/gim,(function(e,a,r,s,c,u){var d=e;null!=a&&""!=a||(d="http://"+d);var l=r;return null!=s&&""!=s&&(l+="."+s),o++,n||(l=(l=d).replace(/^https?:\/\//,"")),i[o]="<a "+(t?'class = "'+t+'"':"")+' href="'+d+'" target="_blank" title="'+d+'">'+l+"</a>","INNER_TMP_BLOCK_"+o+"_INNER_TMP_BLOCK"}))).replace(/INNER_TMP_BLOCK_([\d]+)_INNER_TMP_BLOCK/gim,(function(e,t){return i[t]}))},plainTextToHtml:function(e,t){return e=(e=(e=(e=(e=(e=e||"").replace(/\&/gim,"&amp;")).replace(/\</gim,"&lt;")).replace(/\>/gim,"&gt;")).replace(/\n/gim,"<br/>")).replace(/\s\s/gim," &nbsp;"),t&&t.detectLinks&&(e=d.scanForURIs(e)),e},screenshotSize:function(e){return Modernizr.retina&&(e*=2),-1==this.picSizes.indexOf(e)&&(e=o.a.filter(this.picSizes,(function(t){return t>e}))[0]),-1==this.picSizes.indexOf(e)?(console.error("screenshot size not found! size: "+e),512):e},addFilenameComponent:function(e,t){var n=e.split(".");return n.length>1?(n[n.length-2]+="_"+t,n.join(".")):e+"_"+t},URLParts:function(e){var t=/(.+:\/\/)?([^\/]+)(\/.*)*/i.exec(e);return{url:(t=t||[])[0]||"",protocol:t[1]||"",hostname:t[2]||"",path:t[3]||""}},filterNonAscii:function(e){if(e&&e.val){var t=e.val();return!!/[^\x00-\x7f]/.test(t)&&(t=t.replace(/[^\x00-\x7f]/g,""),e.val(t),!0)}},applyTransform:function(e,t){e.css({"-webkit-transform":t,transform:t})},getCurrentTranslate:function(e){var t,n=window.getComputedStyle(e,null),i=n.getPropertyValue("-webkit-transform")||n.getPropertyValue("transform");return i&&"none"!=i?[(t=(t=(t=i.split("(")[1]).split(")")[0]).split(","))[4]-0,t[5]-0]:[0,0]},applyTransition:function(e,t){e.css({"-webkit-transition":t.replace("transform","-webkit-transform"),transition:t})},waitForTransitionEnd:function(e,t,n,i){return this.animationTransitionEndHandler("transition",e,t,n,i)},waitForAnimationEnd:function(e,t,n,i){return this.animationTransitionEndHandler("animation",e,t,n,i)},animationTransitionEndHandler:function(e,t,n,o,a){t=t instanceof jQuery?t:Object(i.a)(t);var r="transition"===e?{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[Modernizr.prefixed("transition")]:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OTransition:"oAnimationEnd",msTransition:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")],s=function n(s){if(s){var u="transition"===e?s.originalEvent.propertyName.toLowerCase():s.originalEvent.animationName.toLowerCase();if("transition"===e&&!Object(i.a)(s.target).is(t))return;if(-1===u.indexOf(o))return}t.off(r,n),clearTimeout(c),a()};t.on(r,s);var c=setTimeout(s,n);return function(){t.off(r,s),clearTimeout(c)}},vueTransitionsShow:function(e,t){var n=t+"-enter",i=t+"-enter-active";e.addClass(n),window.requestAnimationFrame((function(){e.removeClass(n),e.addClass(i),d.waitForTransitionEnd(e,200,"opacity",(function(){e.removeClass(i)}))}))},vueTransitionsHide:function(e,t){var n=t+"-leave-to",i=t+"-leave-active";return e.addClass(n+" "+i),new window.Promise((function(t){d.waitForTransitionEnd(e,200,"opacity",t)})).then((function(){e.removeClass(n+" "+i)}))},getFixedPositionCSS:function(e,t,n){var i=t.left*n,a=t.top*n,r=t.width,s=t.height,c=r*(1-n)/2,u=s*(1-n)/2,d={left:"",top:"",bottom:"",right:"","margin-left":"","margin-top":""};return e?("c"!=e&&(e.indexOf("n")>-1&&(d.top=a-u),e.indexOf("w")>-1&&(d.left=i-c),e.indexOf("e")>-1&&(d.right=i-c),e.indexOf("s")>-1&&(d.bottom=a-u)),["n","c","s"].indexOf(e)>-1&&(d.left="50%",d["margin-left"]=-r/2+i),["w","c","e"].indexOf(e)>-1&&(d.top="50%",d["margin-top"]=-s/2+a),d):o.a.extend({},d,t)},getFixedPositionBox:function(e,t,n,i){n=n||1;var o=t.x*n,a=t.y*n,r=t.w*n,s=t.h*n,c={left:o,top:a,width:r,height:s};return e?("c"!==e&&(-1!==e.indexOf("s")&&(c.top=i.height-a-s),-1!==e.indexOf("e")&&(c.left=i.width-o-r)),-1!==["n","c","s"].indexOf(e)&&(c.left=i.width/2-r/2+o),-1!==["w","c","e"].indexOf(e)&&(c.top=i.height/2-s/2+a),c.bottom=c.top+c.height,c.right=c.left+c.width,c):c},decimals:function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},getFocusBack:function(){s.a.isDesktop&&Object(i.a)('<input style="position: absolute;left: -999px;" type="text"/>').appendTo("body").css({top:Object(i.a)(window).scrollTop()}).focus().remove()},hex2rgb:function(e){if(e)return[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]},rgba2hex:function(e){if(e){var t=e.match(/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*(\d*)\.?(\d*)\s*)?\)$/);return"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2)}},rgba2alpha:function(e){if(e){var t=e.match(/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*(\d*)\.?(\d*)\s*)?\)$/);return parseFloat(t[4].slice(1))}},loadLoggedUser:function(e){if(RM.common.isDownloadedSource&&!RM.common.homepageRewrite)return e&&e();if(window.ServerData&&window.ServerData.me&&window.ServerData.me.user)return e&&e();if(d.__loadLoggedUserCallbackStack=d.__loadLoggedUserCallbackStack||[],e&&"function"==typeof e&&d.__loadLoggedUserCallbackStack.push(e),!d.__loadLoggedUserLoadStarted){d.__loadLoggedUserLoadStarted=!0,Object(i.a)(window).on("message",o.a.bind((function(e){if((e=e.originalEvent||{}).origin==u.readymag_auth_host){if("string"!=typeof e.data)return;var n=JSON.parse(e.data);if("user"!=n.event)return;var i=n.message;window.ServerData&&(window.ServerData.me={user:i});for(var o=0;o<d.__loadLoggedUserCallbackStack.length;o++)d.__loadLoggedUserCallbackStack[o].call(this,i);d.__loadLoggedUserCallbackStack=null,d.__loadLoggedUserLoadStarted=null,t.remove()}}),this));var t=Object(i.a)("<iframe>").attr("width","0").attr("height","0").css({position:"absolute",top:"-999px"}).on("load",(function(){t[0].contentWindow.postMessage("GetLoggedUser","*")})).attr("src",u.readymag_auth_host+"/get_user_cookies."+Date.now()).appendTo("body")}},selectProtocol:function(e){return e&&e.length?(0==e.indexOf("//")&&u.IS_FILE_PROTOCOL&&(e="http:"+e),e):e},_sendFBGraphRequest:function(e){i.a.ajax({type:"GET",url:"https://graph.facebook.com/?id="+encodeURIComponent(e)+"&scrape=true&method=post",success:function(e){}})},facebookGraphRefresh:function(e){var t,n,i,o=u.readymag_host||window.location.origin;i=o+"/"+e.user_uri+"/"+e.mag_uri+"/",this._sendFBGraphRequest(i);var a=o+"/"+e.mag_numid+"/";this._sendFBGraphRequest(a),e.mag_domain?(t="http://"+e.mag_domain+"/",this._sendFBGraphRequest(t)):e.user_domain&&(n="http://"+e.user_domain+"/"+e.mag_uri+"/",this._sendFBGraphRequest(n));var r=e.pages;if(0!=r.length)for(var s in t||n||o+"/",r){var c=o+"p"+(s=r[s]).num_id+"/";this._sendFBGraphRequest(c)}},simulateEvent:function(e,t){if(e){var n,i={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/},o={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},a=u(o,arguments[2]||{}),r=null;for(var s in i)if(i[s].test(t)){r=s;break}if(!r)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");if(document.createEvent)n=document.createEvent(r),"HTMLEvents"===r?n.initEvent(t,a.bubbles,a.cancelable):n.initMouseEvent(t,a.bubbles,a.cancelable,document.defaultView,a.button,a.pointerX,a.pointerY,a.pointerX,a.pointerY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,e),e.dispatchEvent(n);else{a.clientX=a.pointerX,a.clientY=a.pointerY;var c=document.createEventObject();n=u(c,a),e.fireEvent("on"+t,n)}return e}function u(e,t){for(var n in t)e[n]=t[n];return e}},getTestIndexes:function(){if(RM.common.rm_test)return RM.common.rm_test;var e,t,n={};for(e=2;e<=5;e++)n["_test_"+e]=-1;if(Modernizr.localstorage)for(e=2;e<=5;e++)n[t="_test_"+e]=localStorage.getItem("rm_test_"+e),(parseInt(n[t])!=n[t]||n[t]<0||n[t]>=e)&&(n[t]=Math.floor(Math.random()*e),localStorage.setItem("rm_test_"+e,n[t])),n[t]-=0;return RM.common.rm_test=n,n},setInputSize:function(e,t,n){var o=Object(i.a)('<div style="position:absolute; left:-9999px; right:auto; margin:0; white-space:pre; width:auto"></div>').appendTo(e.parent());o[0].className=e[0].className,o.text(n||e.val());var a=o.width();a=2*Math.ceil(a/2)+2,t&&a>t&&(a=t),e.width(a),o.remove()},PageVisibilityManager:function(){var e,t;void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange");return{addEventListener:function(n){if(!e)return!1;document.addEventListener(t,n)},removeEventListener:function(n){if(!e)return!1;document.removeEventListener(t,n)},isPageHidden:function(){return document[e]}}}(),getCookie:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},deleteCookie:function(e,t){t=t||{};var n=u.readymag_host.replace(/https?:\/\//i,"").replace("/",""),i=u.readymag_auth_host.replace(/https?:\/\//i,"").replace("/","");document.cookie="".concat(e,"=; path=").concat(t.path?t.path:"/","; domain=").concat(n,"; expires=Thu, 01 Jan 1970 00:00:01 GMT;"),document.cookie="".concat(e,"=; path=").concat(t.path?t.path:"/","; domain=.").concat(n,"; expires=Thu, 01 Jan 1970 00:00:01 GMT;"),document.cookie="".concat(e,"=; path=").concat(t.path?t.path:"/","; domain=").concat(i,"; expires=Thu, 01 Jan 1970 00:00:01 GMT;"),document.cookie="".concat(e,"=; path=").concat(t.path?t.path:"/","; domain=.").concat(i,"; expires=Thu, 01 Jan 1970 00:00:01 GMT;"),document.cookie="".concat(e,"=; path=").concat(t.path?t.path:"/","; expires=Thu, 01 Jan 1970 00:00:01 GMT;")},createCookie:function(e,t,n){n=n||36500;var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o,a="; expires="+i.toGMTString();o=(o=u.readymag_host.replace(/https?:\/\//i,"")).replace("/",""),document.cookie=e+"="+t+a+"; path=/; domain=."+o},isMongoObjectId:function(e){return/^[0-9a-fA-F]{24}$/.test(e)},setNoTransitions:function(e){return e=!!e||void 0===e,u.noanimations=e,Object(i.a)("html").toggleClass("notransitions"),"Transitions are "+(e?"disabled":"enabled")},sendAnalyticsCustomEvent:function(e,t,n,a,r){var s={v:"1",t:"event",tid:u.GA_ID},c=o.a.extend({},s,{ec:encodeURIComponent(e),ea:encodeURIComponent(t)});n&&o.a.extend(c,{el:encodeURIComponent(n)}),a&&o.a.extend(c,{ev:encodeURIComponent(a)}),o.a.extend(c,{cid:r||this.getGAcid()});var d=Object.keys(c).map((function(e){return e+"="+c[e]})).join("&");i.a.ajax({url:"https://www.google-analytics.com/collect",method:"POST",data:d,processData:!1,contentType:"text/plain"})},getGAcid:function(){var e=this.getCookie("_ga"),t=null;return e&&(e=e.match(/GA[0-9]+\.[0-9]+\.(.*)/)).length>1&&(t=e[1]),t||(t=this.generateUUID()),t},processCustomTrackingEventCookies:function(){var e={_rm_send_event_user:{facebook:u.FacebookTrackingEvents.RegisteredUser,twitter:u.TwitterTrackingEvents.RegisteredUser,pinterest:u.PinterestTrackingEvents.RegisteredUser},_rm_send_event_subscriber:{facebook:u.FacebookTrackingEvents.ActiveSubscriber,twitter:u.TwitterTrackingEvents.ActiveSubscriber,pinterest:u.PinterestTrackingEvents.ActiveSubscriber}};for(var t in e)d.getCookie(t)&&(d.sendFacebookPixelEvent(e[t].facebook),d.trackTwitterConversion(e[t].twitter),d.trackPinterestConversion(e[t].pinterest),d.deleteCookie(t))},sendFacebookPixelEvent:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};switch(e){case"PageView":t="PageView";break;case"Joined":t="CompleteRegistration",i=o.a.pick(n,"value","currency");break;case"Subscribed":t="Customer Created",i=o.a.pick(n,"currency","value");break;case"Create Mag":t="Create Mag";break;case"Publish Mag":t="Publish";break;case"Republish Mag":t="Republish";break;case"Purchase":t="Purchase",i=o.a.pick(n,"content_name","content_category","content_type","value","currency");break;case"Mi_Usuario":t="Mi_Usuario";break;case"CLient":t="CLient"}t&&a.a.initFacebookPixel().then((function(){"function"==typeof window.fbq&&window.fbq("trackCustom",t,i)}))},trackTwitterConversion:function(e){a.a.initTwitterTrackingAPI().then((function(){window.twttr&&window.twttr.conversion&&(window.twttr.conversion.trackPid(e,{tw_sale_amount:0,tw_order_quantity:0}),(new Image).src="https://analytics.twitter.com/i/adsct?txn_id=".concat(e,"&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"),(new Image).src=d.selectProtocol("//t.co/i/adsct?txn_id=".concat(e,"&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0")))}))},trackPinterestConversion:function(e){a.a.initPinterestTrackingAPI().then((function(){window.pintrk&&window.pintrk("track",e)}))},toHttps:function(e){return e.replace(/^http:\/\//i,"https://")},escapeRegExp:function(e){var t=new RegExp("(\\"+["$","^","*","(",")","+","[","]","{","}","\\","|",".","?","/"].join("|\\")+")","g");return e.replace(t,"\\$1")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},filters:c}}}]);